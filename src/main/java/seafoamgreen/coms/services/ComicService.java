package seafoamgreen.coms.services;

import seafoamgreen.coms.model.Comic;
import seafoamgreen.coms.model.Comment;
import seafoamgreen.coms.model.Panel;
import seafoamgreen.coms.model.Series;
import seafoamgreen.coms.model.User;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Sort;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Service;

import seafoamgreen.coms.repositories.ComicRepository;
import seafoamgreen.coms.repositories.CommentRepository;
import seafoamgreen.coms.repositories.PanelRepository;
import seafoamgreen.coms.repositories.SeriesRepository;
import seafoamgreen.coms.repositories.UserRepository;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.StringTokenizer;

import com.amazonaws.auth.AWSCredentials;
import com.amazonaws.auth.AWSStaticCredentialsProvider;
import com.amazonaws.auth.BasicAWSCredentials;
import com.amazonaws.regions.Regions;
import com.amazonaws.services.s3.AmazonS3;
import com.amazonaws.services.s3.AmazonS3ClientBuilder;



@Service
public class ComicService {

    @Autowired
    private ComicRepository comicRepository;

    @Autowired
    private SeriesRepository seriesRepository;

    @Autowired
    private PanelRepository panelRepository;

    @Autowired
    private PanelService panelService;

    @Autowired
    CommentRepository commentRepository;

    @Autowired
    private UserRepository userRepository;

    public Comic create(String Username, String comicName, String SeriesID, String tagString, String publishDate) //need to find a way to implement time
    {
        Comic comic = new Comic(Username, comicName, SeriesID);
        comic.setTags(tokenizeTagString(tagString));
        //TODO: remove this line v
        comic.setDateTime(publishDate);
        Comic newComic = comicRepository.save(comic);
        Panel firstPanel = new Panel(Username, newComic.getId(), "{\"version\":\"2.7.0\",\"objects\":[]}");
        panelRepository.save(firstPanel);
        panelService.update(firstPanel.getId() , "{\"version\":\"2.7.0\",\"objects\":[]}" , "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAGQCAYAAAA9TUphAAAgAElEQVR4XuzdB5Qc1ZXw8TudJnb3DMoiiKCAQEISSEQhkEj22iy2d+11+JzXa5zXBgyYjBDZOKe1jdf2Oq3XaZ2JEkhkCRA5SWQRJE3O093fuQ3DjkY9Xe9VV2rNv77js+d8euHW7/U0fateqBEuBBBAAAEEEEAAAQQQQAABBBAIXaAm9AgIAAEEEEAAAQQQQAABBBBAAAEEhASdDwECCCCAAAIIIIAAAggggAACERAgQY/AIBACAggggAACCCCAAAIIIIAAAiTofAYQQAABBBBAAAEEEEAAAQQQiIAACXoEBoEQEEAAAQQQQAABBBBAAAEEECBB5zOAAAIIIIAAAggggAACCCCAQAQESNAjMAiEgAACCCCAAAIIIIAAAggggAAJOp8BBBBAAAEEEEAAAQQQQAABBCIgQIIegUEgBAQQQAABBBBAAAEEEEAAAQRI0PkMIIAAAggggAACCCCAAAIIIBABARL0CAwCISCAAAIIIIAAAggggAACCCBAgs5nAAEEEEAAAQQQQAABBBBAAIEICJCgR2AQCAEBBBBAAAEEEEAAAQQQQAABEnQ+AwgggAACCCCAAAIIIIAAAghEQIAEPQKDQAgIIIAAAggggAACCCCAAAIIkKDzGUAAAQQQQAABBBBAAAEEEEAgAgIk6BEYBEJAAAEEEEAAAQQQQAABBBBAgASdzwACCCCAAAIIIIAAAggggAACERAgQY/AIBACAggggAACCCCAAAIIIIAAAiTofAYQQAABBBBAAAEEEEAAAQQQiIAACXoEBoEQEEAAAQQQQAABBBBAAAEEECBB5zOAAAIIIIAAAggggAACCCCAQAQESNAjMAiEgAACCCCAAAIIIIAAAggggAAJOp8BBBBAAAEEEEAAAQQQQAABBCIgQIIegUEgBAQQQAABBBBAAAEEEEAAAQRI0PkMIIAAAggggAACCCCAAAIIIBABARL0CAwCISCAAAIIIIAAAggggAACCCBAgs5nAAEEEEAAAQQQQAABBBBAAIEICJCgR2AQCAEBBBBAAAEEEEAAAQQQQAABEnQ+AwgggAACCCCAAAIIIIAAAghEQIAEPQKDQAgIIIAAAggggAACCCCAAAIIkKDzGUAAAQQQQAABBBBAAAEEEEAgAgIk6BEYBEJAAAEEEEAAAQQQQAABBBBAgASdzwACCCCAAAIIIIAAAggggAACERAgQY/AIBACAggggAACCCCAAAIIIIAAAiTofAYQQAABBBBAAAEEEEAAAQQQiIAACXoEBoEQEEAAAQQQQAABBBBAAAEEECBB5zOAAAIIIIAAAggggAACCCCAQAQESNAjMAiEgAACCCCAAAIIIIAAAggggAAJOp8BBBBAAAEEEEAAAQQQQAABBCIgQIIegUEgBAQQQAABBBBAAAEEEEAAAQRI0PkMIIAAAggggAACCCCAAAIIIBABARL0CAwCISCAAAIIIIAAAggggAACCCBAgs5nAAEEEEAAAQQQQAABBBBAAIEICJCgR2AQCAEBBBBAAAEEEEAAAQQQQAABEnQ+AwgggAACCCCAAAIIIIAAAghEQIAEPQKDQAgIIIAAAggggAACCCCAAAIIkKDzGUAAAQQQQAABBBBAAAEEEEAgAgIk6BEYBEJAAAEEEEAAAQQQQAABBBBAgASdzwACCCCAAAIIIIAAAggggAACERAgQY/AIBACAggggAACCCCAAAIIIIAAAiTofAYQQAABBBBAAAEEEEAAAQQQiIAACXoEBoEQEEAAAQQQQAABBBBAAAEEECBB5zOAAAIIIIAAAggggAACCCCAQAQESNAjMAiEgAACCCCAAAIIIIAAAggggAAJOp8BBBBAAAEEEEAAAQQQQAABBCIgQIIegUEgBAQQQAABBBBAAAEEEEAAAQRI0PkMIIAAAggggAACCCCAAAIIIBABARL0CAwCISCAAAIIIIAAAggggAACCCBAgs5nAAEEEEAAAQQQQAABBBBAAIEICJCgR2AQCAEBBBBAAAEEEEAAAQQQQAABEnQ+AwgggAACCCCAAAIIIIAAAghEQIAEPQKDQAgIIIAAAggggAACCCCAAAIIkKDzGUAAAQQQQAABBBBAAAEEEEAgAgIk6BEYBEJAAAEEEEAAAQQQQAABBBBAgASdzwACCCCAAAIIIIAAAggggAACERAgQY/AIBACAggggAACCCCAAAIIIIAAAiTofAYQQAABBBBAAAEEEEAAAQQQiIAACXoEBoEQEEAAAQQQQAABBBBAAAEEECBB5zOAAAIIIIAAAggggAACCCCAQAQESNAjMAiEgAACCCCAAAIIIIAAAggggAAJOp8BBBBAAAEEEEAAAQQQQAABBCIg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gEDkBUjQIz9EBIgAAggggAACCCCAAAIIIDAeBEjQx8Moc48IIIAAAggggAACCCCAAAKRFyBBj/wQESACCCCAAAIIIIAAAggggMB4ECBBHw+jzD0igAACCCCAAAIIIIAAAghEXoAEPfJDRIAIIIAAAggggAACCCCAAALjQYAEfTyMMveIAAIIIIAAAggggAACCCAQeQES9MgPEQEigAACCCCAAAIIIIAAAgiMBwES9PEwytwjAggggAACCCCAAAIIIIBA5AVI0CM/RASIAAIIIIAAAggggAACCCAwHgRI0MfDKHOPCCCAAAIIIIAAAggggAACkRcgQY/8EBEgAggggAACCCCAAAIIIIDAeBAgQR8Po8w9IoAAAggggAACCCCAAAIIRF6ABD3yQ0SACCCAAAIIIIAAAggggAAC40GABH08jDL3iAACCCCAAAIIIIAAAgggEHkBEvTIDxEBIoAAAggggAAC/7/9OqYBAABAGObfNTZIVgdQLggQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9gIN+P5GABAgQIECAAAECBAgQIFAQcNALK+tIgAABAgQIECBAgAABAvcCDvr9RAISIECAAAECBAgQIECAQEHAQS+srCMBAgQIECBAgAABAgQI3As46PcTCUiAAAECBAgQIECAAAECBQEHvbCyjgQIECBAgAABAgQIECBwL+Cg308kIAECBAgQIECAAAECBAgUBBz0wso6EiBAgAABAgQIECBAgMC9wAAyTJQ1FVQaDwAAAABJRU5ErkJggg==");
        String blob = panelService.getBlob(firstPanel.getId());
        comic.setThumbnailBlob(blob);
        comicRepository.save(comic);
        return comic;
    }

    public List<Comic> getEditableComicsByUsername(String username) {
        List<Comic> comics = findAllByUsername(username);
        List<Comic> ret = new ArrayList<Comic>();
        for (Comic c: comics) {
            if (!c.isPublished()) {
                ret.add(c);
            }
        }
        return ret;
    }




    //Update

    //Id or comic name? idk yet
    public void addPanel(String comicID, String panel)
    {

        Comic comic = comicRepository.findByComicId(comicID);
        comic.addPanel(panel);
        comicRepository.save(comic);
    }

    public void deletePanel(String comicID, String panel)
    {
        Comic comic = comicRepository.findByComicId(comicID);
        comic.deletePanel(panel);
        comicRepository.save(comic);
    }

    public Comic findById(String id) { return comicRepository.findByComicId(id);}

    public List<Comic> findAllByUsername(String username) {

        System.out.println("COMIC SERVICE FIND ALL COMICS BY USERNAME: " + username);
        List<Comic> list = comicRepository.findByUsername(username);
        return list;

    }

    public List<Comic> findAllByTag(String tag) {
        List<Comic> comics = comicRepository.findAllByTag(tag);
        return comics;
    }

    public void deleteById(String id) { 
        comicRepository.deleteById(id);
        panelRepository.deleteByComicId(id);
        List<User> allUsers = userRepository.findAll();
        for (User u: allUsers) {
            boolean saveFlag = false;
            if (u.getComicIdHistory().contains(id)) {
                u.getComicIdHistory().remove(id);
                saveFlag = true;
            }
            if (u.getMyList().contains(id)) {
                u.getMyList().remove(id);
                saveFlag = true;
            }
            if (saveFlag) userRepository.save(u);
        }    
    }



    public void deleteAll() { comicRepository.deleteAll(); }


    public void addTag(String comicID, String tag)
    {
        Comic comic = comicRepository.findByComicId(comicID);
        comic.addTag(tag);
        comicRepository.save(comic);
    }

    public Comic getRandomComic() {
        List<Comic> comics = comicRepository.findAll();
        List<Comic> publishedComics = new ArrayList<Comic>();

        //wont display unpublished comics
        for(Comic c: comics) {
            if (c.isPublished()) {
                publishedComics.add(c);
            }
        }
        int size = publishedComics.size();
        int random = (int)Math.random()*size;
        Comic comic = publishedComics.get(random);
        return comic;
    }

    public List<String> tokenizeTagString(String tagString) {
        StringTokenizer multiTokenizer = new StringTokenizer(tagString, ", ");
        ArrayList<String> tagStrings = new ArrayList<>();

        while (multiTokenizer.hasMoreTokens()) {
            tagStrings.add(multiTokenizer.nextToken());
        }
        return tagStrings;
    }

    public void addTags(String comicId, String tagString) {
        List<String> tagStrings = tokenizeTagString(tagString);

        Comic c = comicRepository.findByComicId(comicId);
        for (String tag : tagStrings) {
            c.addTag(tag);
        }

    }

    public Comic publishComic(String comicId, String dateTime) {
        Comic c= publishComic(comicId, false);
        c.setDateTime(dateTime);
        comicRepository.save(c);
        return c;
    }

    public Comic publishComic(String comicId, boolean publishNow) {
        Comic c = comicRepository.findById(comicId).get();

        if (publishNow) {
            c.setPublished(true);
        }
        comicRepository.save(c);

        return c;
    }


    //this will be checking if we have any comics ready to be published. if so, we set published to true.
    //will check every 15 minutes
    @Scheduled(cron = "0 * * ? * *")
    public void scheduleCheck() { 
        Date date = new Date();
        // String strDateTimeFormat = "MM-dd-yyyy hh:mm a";
        String strDateTimeFormat = "yyyy-MM-dd";
        DateFormat dateTimeFormat = new SimpleDateFormat(strDateTimeFormat);

        String currDateTime = dateTimeFormat.format(date);

        // System.out.print(currDateTime);

        //do getByDateTime
        List<Comic> comics = comicRepository.findByDateTime(currDateTime);

        for (Comic c: comics) {
            c.setPublished(true);
            comicRepository.save(c);
        }

    }

    public Comic getEditComic(String username, String comicId) {
        Comic c = comicRepository.findByComicId(comicId);
        if (c.getUsername() != username) {
            return null;
        }


        return c;
    }



    public List<String> getPanelObjects(Comic c) {
        ArrayList<String> urls = new ArrayList<>();
        List<String> panels = c.getPanelList();
        for (String s: panels) {
            urls.add(panelService.getBlob(s));
        }

        return urls;
    }

    public List<Comic> findAllBySeriesId(String id) {

        return comicRepository.findBySeriesID(id);

    }

    public void addToHistory(String username, String comicID) {
        User user = userRepository.findByUsername(username);
        user.addComicToHistory(comicID);
        userRepository.save(user);

    }

    public List<Comment> getCommentsForComicid(String comicId) {
        Sort sort = new Sort(Sort.Direction.DESC, "dateTime");
        
        List<Comment> comments = commentRepository.findAllByComicId(comicId, sort);
        return comments;
	}
}
